---
sidebar_position: 1
---

import Snippet from '@site/src/components/Snippet';

# Invkfile Format

Invkfiles are written in [CUE](https://cuelang.org/), a powerful configuration language that's like JSON with superpowers. If you've never used CUE before, don't worry - it's intuitive and you'll pick it up quickly.

## Why CUE?

We chose CUE over YAML or JSON because:

- **Built-in validation** - CUE catches errors before you run anything
- **No indentation nightmares** - Unlike YAML, a misplaced space won't break everything
- **Comments!** - Yes, you can actually write comments
- **Type safety** - Invowk's schema ensures your invkfile is correct
- **Templating** - Reduce repetition with CUE's powerful templating

## Basic Syntax

CUE looks like JSON, but more readable:

<Snippet id="core-concepts/cue-basic-syntax" />

Key differences from JSON:
- No commas needed after fields (though they're allowed)
- Trailing commas are fine
- Comments with `//`
- Multi-line strings with `"""`

## Schema Overview

Every invkfile follows this structure:

<Snippet id="core-concepts/schema-overview" />

The `?` suffix means a field is optional.

## The Group Field

The `group` is the most important field - it namespaces all your commands:

<Snippet id="core-concepts/group-namespace" />

These commands become:
- `myproject build`
- `myproject test`

### Group Naming Rules

- Must start with a letter
- Can contain letters, numbers
- Dots (`.`) create nested namespaces
- No hyphens, underscores, or spaces

**Valid:**
- `myproject`
- `my.project`
- `com.company.tools`
- `frontend`

**Invalid:**
- `my-project` (hyphen)
- `my_project` (underscore)
- `.project` (starts with dot)
- `123project` (starts with number)

### RDNS Naming

For packs or shared invkfiles, we recommend Reverse Domain Name System (RDNS) naming:

<Snippet id="core-concepts/rdns-naming" />

This prevents conflicts when combining multiple invkfiles.

## Commands Structure

Each command has this structure:

<Snippet id="core-concepts/command-structure" />

### Implementations

A command can have multiple implementations for different platforms/runtimes:

<Snippet id="core-concepts/multi-platform-impl" />

Invowk automatically picks the right implementation for your platform.

## Scripts

Scripts can be inline or reference external files:

### Inline Scripts

<Snippet id="core-concepts/script-inline" />

### External Script Files

<Snippet id="core-concepts/script-external" />

Recognized extensions: `.sh`, `.bash`, `.ps1`, `.bat`, `.cmd`, `.py`, `.rb`, `.pl`, `.zsh`, `.fish`

## Complete Example

Here's a full-featured invkfile:

<Snippet id="core-concepts/full-example" />

## CUE Tips & Tricks

### Reduce Repetition

Use CUE's templating to avoid repetition:

<Snippet id="core-concepts/cue-template" />

### Validation

Run your invkfile through the CUE validator:

<Snippet id="cli/cue-validate" />

Or just try to list commands - Invowk validates automatically:

<Snippet id="cli/list-commands" />

## Next Steps

- [Commands and Groups](./commands-and-groups) - Naming conventions and hierarchies
- [Implementations](./implementations) - Platforms, runtimes, and scripts
