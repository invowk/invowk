---
sidebar_position: 2
---

import Snippet from '@site/src/components/Snippet';

# Commands and Groups

Every command in Invowkâ„¢ lives within a **group**. Think of groups as namespaces that organize your commands and prevent naming conflicts when you combine multiple invkfiles.

## Understanding Groups

The `group` field is required in every invkfile and becomes the first segment of all command names:

<Snippet id="commands-groups/basic-group" />

These commands become:
- `invowk cmd myproject build`
- `invowk cmd myproject test`
- `invowk cmd myproject deploy`

## Group Naming Rules

Groups follow specific naming conventions:

| Rule | Valid | Invalid |
|------|-------|---------|
| Must start with a letter | `myproject`, `Project1` | `1project`, `_project` |
| Letters and numbers only | `myproject`, `v2` | `my-project`, `my_project` |
| Dots for nesting | `my.project`, `a.b.c` | `my..project`, `.project`, `project.` |

### Valid Examples

<Snippet id="commands-groups/valid-groups" />

### Invalid Examples

<Snippet id="commands-groups/invalid-groups" />

## Nested Groups

Dots create hierarchical namespaces, useful for organizing large projects:

<Snippet id="commands-groups/nested-group" />

Commands become:
- `invowk cmd com.company.frontend build`
- `invowk cmd com.company.frontend test`

### RDNS Naming

For packs or shared invkfiles, we recommend Reverse Domain Name System (RDNS) naming:

```cue
group: "com.yourcompany.devtools"
group: "io.github.username.project"
group: "org.opensource.utilities"
```

This prevents conflicts when combining commands from multiple sources.

## Command Names

Within a group, command names can include spaces to create subcommand-like hierarchies:

<Snippet id="commands-groups/subcommand-names" />

### Command Naming Rules

| Rule | Valid | Invalid |
|------|-------|---------|
| Must start with a letter | `build`, `Test` | `1build` |
| Letters, numbers, spaces, hyphens, underscores | `test unit`, `build-all` | `build@all` |

### Hierarchical Commands

Spaces in command names create natural hierarchies:

```bash
# List all commands
invowk cmd --list

# Run top-level command
invowk cmd myproject test

# Run nested command
invowk cmd myproject test unit
```

This is purely organizational - there's no special parent-child relationship. Each command is independent.

## Command Discovery

Invowk discovers commands from multiple sources in priority order:

1. **Current directory** (highest priority)
2. **User commands directory** (`~/.invowk/cmds/`)
3. **Configured search paths** (from config file)

When listing commands, you'll see their source:

<Snippet id="commands-groups/discovery-output" />

## Command Dependencies

Commands can depend on other commands. Always use the full group-prefixed name:

<Snippet id="commands-groups/command-dependency" />

### Cross-Invkfile Dependencies

Commands can depend on commands from other invkfiles:

<Snippet id="commands-groups/cross-invkfile-dep" />

## Why Groups Matter

1. **Namespace Isolation** - Multiple invkfiles can have `build` commands without conflict
2. **Clear Origin** - You always know which invkfile a command comes from
3. **Logical Organization** - Use nested groups for large projects
4. **Tab Completion** - Groups provide natural completion boundaries

## Best Practices

### For Personal Projects

Keep it simple:

```cue
group: "myapp"
```

### For Team Projects

Use organization-based naming:

```cue
group: "teamname.projectname"
```

### For Packs/Shared Commands

Use RDNS:

```cue
group: "com.company.toolname"
group: "io.github.username.projectname"
```

### Avoid Generic Names

Don't use names that might conflict:

```cue
// Bad - too generic
group: "build"
group: "test"
group: "utils"

// Good - namespaced
group: "myproject.build"
group: "mycompany.utils"
```

## Next Steps

- [Implementations](./implementations) - Learn about platform-specific command implementations
- [Runtime Modes](../runtime-modes/overview) - Understand native, virtual, and container execution
