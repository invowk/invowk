---
sidebar_position: 4
---

import Snippet from '@site/src/components/Snippet';

# Pack Dependency Lock File

The lock file (`invkpack.lock.cue`) records the exact versions of all resolved pack dependencies, ensuring reproducible builds across machines and over time.

It is auto-generated by `invowk pack sync` and `invowk pack update`.

## Example Lock File

<Snippet id="packs/dependencies/lockfile-example" />

## Root Fields

| Field | Description |
|-------|-------------|
| `version` | Lock file format version |
| `generated` | Timestamp when the lock file was created |
| `packs` | Map of pack keys to locked pack entries |

## Pack Entry Fields

Each entry in `packs` contains:

| Field | Description |
|-------|-------------|
| `git_url` | Git repository URL |
| `version` | Original version constraint from `invkpack.cue` |
| `resolved_version` | Exact resolved version |
| `git_commit` | Commit SHA for the resolved version |
| `alias` | Namespace alias (if set) |
| `path` | Subdirectory path (if set) |
| `namespace` | Computed namespace for commands |

## Pack Keys

The key in the `packs` map is derived from the Git URL and optional path:

<Snippet id="packs/dependencies/lockfile-key" />

## Usage Notes

- Commit `invkpack.lock.cue` to version control for reproducible builds.
- `invowk pack add` does **not** write the lock file; use `invowk pack sync`.

## Common Workflows

<Snippet id="packs/dependencies/lockfile-workflow" />
