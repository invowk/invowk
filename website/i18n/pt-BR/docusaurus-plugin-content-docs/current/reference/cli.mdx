---
sidebar_position: 1
---

import Snippet from '@site/src/components/Snippet';

# Referência CLI

Referência completa para todos os comandos e flags de linha de comando do Invowk™.

## Flags Globais

Estas flags estão disponíveis para todos os comandos:

| Flag | Curta | Descrição |
|------|-------|-----------|
| `--config` | | Caminho para arquivo de configuração (padrão: localização específica do SO) |
| `--help` | `-h` | Mostrar ajuda para o comando |
| `--interactive` | `-i` | Executar comandos em buffer de tela alternativo (modo interativo) |
| `--verbose` | `-v` | Habilitar saída verbose |
| `--version` | | Mostrar informação de versão |

## Comandos

### invowk

O comando raiz. Executar `invowk` sem argumentos mostra a mensagem de ajuda.

<Snippet id="reference/cli/invowk-syntax" />

---

### invowk cmd

Executar comandos definidos em invkfiles.

<Snippet id="reference/cli/cmd-syntax" />

**Flags:**

| Flag | Curta | Descrição |
|------|-------|-----------|
| `--list` | `-l` | Listar todos os comandos disponíveis |
| `--runtime` | `-r` | Sobrescrever o runtime (deve ser permitido pelo comando) |

**Exemplos:**

<Snippet id="reference/cli/cmd-examples" />

**Descoberta de Comandos:**

Comandos são descobertos de (em ordem de prioridade):
1. Diretório atual
2. `~/.invowk/cmds/`
3. Caminhos configurados em `search_paths`

---

### invowk init

Criar um novo invkfile no diretório atual.

<Snippet id="reference/cli/init-syntax" />

**Flags:**

| Flag | Curta | Descrição |
|------|-------|-----------|
| `--force` | `-f` | Sobrescrever invkfile existente |
| `--template` | `-t` | Template a usar: `default`, `minimal`, `full` |

**Templates:**

- `default` - Um template equilibrado com alguns comandos de exemplo
- `minimal` - Estrutura mínima de invkfile
- `full` - Template abrangente mostrando todas as funcionalidades

**Exemplos:**

<Snippet id="reference/cli/init-examples" />

---

### invowk config

Gerenciar configuração do Invowk.

<Snippet id="reference/cli/config-syntax" />

**Subcomandos:**

#### invowk config show

Exibir configuração atual em formato legível.

<Snippet id="reference/cli/config-show-syntax" />

#### invowk config dump

Exibir configuração raw como CUE.

<Snippet id="reference/cli/config-dump-syntax" />

#### invowk config path

Mostrar o caminho do arquivo de configuração.

<Snippet id="reference/cli/config-path-syntax" />

#### invowk config init

Criar um arquivo de configuração padrão.

<Snippet id="reference/cli/config-init-syntax" />

#### invowk config set

Definir um valor de configuração.

<Snippet id="reference/cli/config-set-syntax" />

**Exemplos:**

<Snippet id="reference/cli/config-set-examples" />

---

### invowk pack

Gerenciar invowk packs (pastas de comando autocontidas).

<Snippet id="reference/cli/pack-syntax" />

**Subcomandos:**

#### invowk pack create

Criar um novo invowk pack.

<Snippet id="reference/cli/pack-create-syntax" />

**Flags:**

| Flag | Curta | Descrição |
|------|-------|-----------|
| `--output` | `-o` | Diretório de saída (padrão: diretório atual) |

**Exemplos:**

<Snippet id="reference/cli/pack-create-examples" />

#### invowk pack validate

Validar um invowk pack.

<Snippet id="reference/cli/pack-validate-syntax" />

**Flags:**

| Flag | Curta | Descrição |
|------|-------|-----------|
| `--deep` | `-d` | Executar validação profunda (verifica arquivos de script, etc.) |

**Exemplos:**

<Snippet id="reference/cli/pack-validate-examples" />

#### invowk pack list

Listar todos os packs descobertos.

<Snippet id="reference/cli/pack-list-syntax" />

#### invowk pack archive

Criar um arquivo ZIP de um pack.

<Snippet id="reference/cli/pack-archive-syntax" />

**Flags:**

| Flag | Curta | Descrição |
|------|-------|-----------|
| `--output` | `-o` | Caminho do arquivo de saída |

#### invowk pack import

Importar um pack de um arquivo ZIP ou URL.

<Snippet id="reference/cli/pack-import-syntax" />

**Flags:**

| Flag | Curta | Descrição |
|------|-------|-----------|
| `--output` | `-o` | Diretório de saída |

---

### invowk tui

Componentes de interface de terminal interativos para shell scripts.

<Snippet id="reference/cli/tui-syntax" />

:::tip
Componentes TUI funcionam muito bem em scripts de invkfile! Eles fornecem prompts interativos, spinners, seletores de arquivo e mais.
:::

**Subcomandos:**

#### invowk tui input

Solicitar entrada de texto de linha única.

<Snippet id="reference/cli/tui-input-syntax" />

**Flags:**

| Flag | Descrição |
|------|-----------|
| `--title` | Título para o prompt de entrada |
| `--placeholder` | Texto de placeholder |
| `--default` | Valor padrão |
| `--password` | Ocultar entrada (para senhas) |

#### invowk tui write

Editor de texto multilinha.

<Snippet id="reference/cli/tui-write-syntax" />

**Flags:**

| Flag | Descrição |
|------|-----------|
| `--title` | Título para o editor |
| `--placeholder` | Texto de placeholder |
| `--value` | Valor inicial |

#### invowk tui choose

Selecionar de uma lista de opções.

<Snippet id="reference/cli/tui-choose-syntax" />

**Flags:**

| Flag | Descrição |
|------|-----------|
| `--title` | Título para a seleção |
| `--limit` | Número máximo de seleções (padrão: 1) |

#### invowk tui confirm

Solicitar confirmação sim/não.

<Snippet id="reference/cli/tui-confirm-syntax" />

**Flags:**

| Flag | Descrição |
|------|-----------|
| `--default` | Valor padrão (true/false) |
| `--affirmative` | Texto para opção "sim" |
| `--negative` | Texto para opção "não" |

#### invowk tui filter

Filtrar fuzzy uma lista de opções.

<Snippet id="reference/cli/tui-filter-syntax" />

Opções também podem ser fornecidas via stdin.

#### invowk tui file

Seletor de arquivo.

<Snippet id="reference/cli/tui-file-syntax" />

**Flags:**

| Flag | Descrição |
|------|-----------|
| `--directory` | Mostrar apenas diretórios |
| `--file` | Mostrar apenas arquivos |
| `--hidden` | Mostrar arquivos ocultos |

#### invowk tui table

Exibir e selecionar de uma tabela.

<Snippet id="reference/cli/tui-table-syntax" />

Lê dados CSV ou TSV de stdin.

**Flags:**

| Flag | Descrição |
|------|-----------|
| `--separator` | Separador de coluna (padrão: `,`) |
| `--header` | Primeira linha é cabeçalho |

#### invowk tui spin

Mostrar um spinner enquanto executa um comando.

<Snippet id="reference/cli/tui-spin-syntax" />

**Flags:**

| Flag | Descrição |
|------|-----------|
| `--title` | Título do spinner |
| `--spinner` | Estilo do spinner |

#### invowk tui pager

Rolar através de conteúdo.

<Snippet id="reference/cli/tui-pager-syntax" />

Lê de arquivo ou stdin.

**Flags:**

| Flag | Descrição |
|------|-----------|
| `--title` | Título exibido acima do pager |
| `--line-numbers` | Mostrar números de linha |
| `--soft-wrap` | Quebrar linhas longas automaticamente |

#### invowk tui format

Formatar texto com markdown, código ou emoji.

<Snippet id="reference/cli/tui-format-syntax" />

**Flags:**

| Flag | Descrição |
|------|-----------|
| `--type` | Tipo de formato: `markdown`, `code`, `emoji` |
| `--language` | Linguagem para highlight de código |

#### invowk tui style

Aplicar estilos ao texto.

<Snippet id="reference/cli/tui-style-syntax" />

**Flags:**

| Flag | Descrição |
|------|-----------|
| `--foreground` | Cor do texto (hex ou nome) |
| `--background` | Cor de fundo |
| `--bold` | Texto em negrito |
| `--italic` | Texto em itálico |
| `--underline` | Texto sublinhado |

---

### invowk completion

Gerar scripts de completion de shell.

<Snippet id="reference/cli/completion-syntax" />

**Shells:** `bash`, `zsh`, `fish`, `powershell`

**Exemplos:**

<Snippet id="reference/cli/completion-examples" />

---

### invowk help

Mostrar ajuda para qualquer comando.

<Snippet id="reference/cli/help-syntax" />

**Exemplos:**

<Snippet id="reference/cli/help-examples" />

## Códigos de Saída

| Código | Significado |
|--------|-------------|
| 0 | Sucesso |
| 1 | Erro geral |
| 2 | Comando não encontrado |
| 3 | Validação de dependência falhou |
| 4 | Erro de configuração |
| 5 | Erro de runtime |

## Mensagens de Erro

O Invowk fornece mensagens de erro específicas para ajudar a diagnosticar problemas:

### Nenhum Invkfile Encontrado

Quando nenhum invkfile é descoberto em nenhuma localização de busca:

<Snippet id="reference/cli/error-no-invkfile" />

**Esta mensagem aparece quando:**
- Não existe `invkfile.cue` no diretório atual
- Não existem invkfiles em `~/.invowk/cmds/`
- Não existem invkfiles nos `search_paths` configurados

**Soluções:**
- Execute `invowk init` para criar um invkfile no diretório atual
- Navegue até um diretório que contenha um invkfile
- Adicione localizações de invkfile ao `search_paths` da sua configuração

### Falha ao Analisar Invkfile

Quando um invkfile é encontrado mas contém erros de sintaxe ou configuração inválida:

<Snippet id="reference/cli/error-parse-failed" />

**Esta mensagem aparece quando:**
- Erros de sintaxe CUE (chaves, aspas faltando, etc.)
- Nomes de campos ou valores inválidos
- Falhas de validação do schema (ex.: tipo de runtime inválido)
- Campos obrigatórios faltando

**Soluções:**
- Verifique a mensagem de erro específica mostrada acima do texto de ajuda
- Valide sua sintaxe CUE: `cue vet invkfile.cue`
- Execute com modo verbose: `invowk --verbose cmd list`
- Compare com a [referência do schema invkfile](./invkfile-schema)

:::tip
A mensagem de erro sempre mostra primeiro o erro de parsing específico (ex.: qual campo falhou na validação), seguido por orientações gerais de solução de problemas.
:::

## Variáveis de Ambiente

| Variável | Descrição |
|----------|-----------|
| `INVOWK_CONFIG` | Sobrescrever caminho do arquivo de configuração |
| `INVOWK_VERBOSE` | Habilitar saída verbose (`1` ou `true`) |
| `INVOWK_CONTAINER_ENGINE` | Sobrescrever container engine |
| `NO_COLOR` | Desabilitar saída colorida |
| `FORCE_COLOR` | Forçar saída colorida |
