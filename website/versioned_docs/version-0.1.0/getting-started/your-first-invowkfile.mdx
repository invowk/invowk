---
sidebar_position: 3
---

import Snippet from '@site/src/components/Snippet';

# Your First Invowkfile

Now that you've run your first command, let's build something more practical. We'll create an invowkfile for a typical project with build, test, and deploy commands.

## Understanding the Structure

An invowkfile has a simple structure:

<Snippet id="getting-started/invowkfile-basic-structure" />

Invowkfiles define commands directly. If you want namespacing, use a module and set the module ID in `invowkmod.cue`.

## A Real-World Example

Let's create an invowkfile for a Go project:

<Snippet id="getting-started/go-project-full" />

Save this as `invowkfile.cue` and try:

<Snippet id="cli/list-commands" />

You'll see:

<Snippet id="cli/output-list-commands" />

## Subcommand-Style Names

Notice how `test unit` and `test coverage` create a hierarchy. You run them like:

<Snippet id="cli/run-subcommands" />

This is just naming convention - spaces in the name create a subcommand feel. It's great for organizing related commands!

## Multiple Runtimes

The `test unit` command allows both `native` and `virtual` runtimes:

<Snippet id="getting-started/runtimes-multiple" />

The first one is the default. You can override it:

<Snippet id="cli/runtime-override" />

## Platform-Specific Commands

The `clean` command only works on Linux and macOS (because it uses `rm -rf`):

<Snippet id="getting-started/platforms-linux-macos" />

If you try to run it on Windows, Invowk will show a helpful error message explaining the command isn't available on your platform.

## Adding Dependencies

Let's make our build command smarter by checking if Go is installed:

<Snippet id="getting-started/build-with-deps" />

Now if you run `invowk cmd build` without Go installed, you'll get:

<Snippet id="cli/output-deps-not-satisfied" />

## Environment Variables

You can set environment variables at different levels:

<Snippet id="getting-started/env-vars-levels" />

Environment variables merge with later levels overriding earlier ones.

## What's Next?

You now know the basics of creating invowkfiles! Continue learning about:

- [Core Concepts](../core-concepts/invowkfile-format) - Deep dive into the invowkfile format
- [Runtime Modes](../runtime-modes/overview) - Learn about native, virtual, and container runtimes
- [Dependencies](../dependencies/overview) - All the ways to declare dependencies
