---
sidebar_position: 2
---

import Snippet from '@site/src/components/Snippet';

# Tool Dependencies

Tool dependencies verify that required binaries are available in PATH before your command runs.

## Basic Usage

<Snippet id="dependencies/tools-basic" />

If `go` isn't found in PATH, the command fails with a clear error:

<Snippet id="dependencies/with-check" />

## Alternatives (OR Semantics)

Specify multiple alternatives when any tool will work:

<Snippet id="dependencies/tools-alternatives" />

Invowkâ„¢ checks alternatives in order and stops at the first match. This is useful for:
- Tools with compatible alternatives (docker/podman)
- Editor preferences (nvim/vim/vi)
- Version variants (python3/python)

## Multiple Tool Requirements

Each entry in `tools` is an AND requirement:

<Snippet id="dependencies/tools-multiple-and" />

All three must be satisfied (though alternatives within each are OR).

## Real-World Examples

### Go Project

<Snippet id="dependencies/tools-go-project" />

### Node.js Project

<Snippet id="dependencies/tools-nodejs-project" />

### Kubernetes Deployment

<Snippet id="dependencies/tools-kubernetes-deploy" />

### Python Project

<Snippet id="dependencies/tools-python-project" />

## Runtime-Aware Validation

Tool checks are validated according to the runtime:

### Native Runtime

Tools are checked on the host system:

<Snippet id="dependencies/tools-runtime-native" />

### Virtual Runtime

Tools are checked in the virtual shell environment:

<Snippet id="dependencies/tools-runtime-virtual" />

### Container Runtime

Tools are checked **inside the container**:

<Snippet id="dependencies/tools-runtime-container" />

This is especially useful because:
- The host doesn't need Go installed
- You're validating the actual execution environment
- You catch missing tools in custom container images

## Common Patterns

### Check Before External Call

<Snippet id="dependencies/tools-external-call" />

### Database Tools

<Snippet id="dependencies/tools-database" />

### Cross-Platform

<Snippet id="dependencies/tools-cross-platform" />

## Best Practices

1. **Use alternatives for compatible tools**: `{alternatives: ["podman", "docker"]}`
2. **Order alternatives by preference**: First alternative is checked first
3. **Keep tool lists minimal**: Only require what's actually used
4. **Consider runtime context**: Container tools are checked inside containers

## Next Steps

- [Filepaths](./filepaths) - Check for required files
- [Commands](./commands) - Depend on other Invowk commands
