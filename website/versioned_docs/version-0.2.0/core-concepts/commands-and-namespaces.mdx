---
sidebar_position: 2
---

import Snippet from '@site/src/components/Snippet';

# Commands and Namespaces

Invowk commands are named directly in `invowkfile.cue`. Namespaces come from **modules**: commands in a module are prefixed by the module ID from `invowkmod.cue`.

## Command Names

Command names can include spaces to create subcommand-like hierarchies:

<Snippet id="commands-namespaces/subcommand-names" />

### Command Naming Rules

| Rule | Valid | Invalid |
|------|-------|---------|
| Must start with a letter | `build`, `Test` | `1build` |
| Letters, numbers, spaces, hyphens, underscores | `test unit`, `build-all` | `build@all` |

Spaces are purely organizational - there’s no special parent-child relationship between commands.

## Module Namespaces

Module commands are discovered from all sources and made available via their **simple names** (the name defined in the `invowkfile.cue`).

<Snippet id="commands-namespaces/module-prefix" />

If these are the only commands with those names, they become available as:
- `invowk cmd build`
- `invowk cmd test unit`

:::tip Transparent Namespaces
When command names are **unique** across all sources, you can omit any prefix and use just the simple command name. Invowk's transparent namespace system automatically resolves unambiguous commands. 

If a command name exists in multiple sources, you must disambiguate using the `@source` prefix:
- `invowk cmd @invowkfile deploy` (from local invowkfile)
- `invowk cmd @com.company.frontend deploy` (from specific module)
:::


### Module ID Naming Rules

| Rule | Valid | Invalid |
|------|-------|---------|
| Must start with a letter | `myproject`, `Project1` | `1project`, `_project` |
| Letters and numbers only | `myproject`, `v2` | `my-project`, `my_project` |
| Dots for nesting | `my.project`, `a.b.c` | `my..project`, `.project`, `project.` |

#### Valid Examples

<Snippet id="commands-namespaces/valid-module-ids" />

#### Invalid Examples

<Snippet id="commands-namespaces/invalid-module-ids" />

For shared modules, use Reverse Domain Name System (RDNS) naming (e.g., `com.company.tools`) to prevent collisions.

## Command Discovery

Invowk discovers commands from multiple sources in priority order:

1. **Current directory invowkfile** (highest priority)
2. **Local modules** (`*.invowkmod` in current directory)
3. **Configured includes** (module paths from config file)
4. **User commands directory** (`~/.invowk/cmds/` — `*.invowkmod` only, non-recursive)

When listing commands, you’ll see their source:

<Snippet id="commands-namespaces/discovery-output" />

## Command Dependencies

Commands can depend on other commands. Use the full command name as listed by `invowk cmd` (module prefix when applicable):

<Snippet id="commands-namespaces/command-dependency" />

## Why Namespaces Matter

1. **Namespace isolation** - Module commands stay distinct across shared toolkits
2. **Clear origin** - Module prefixes show where commands come from
3. **Logical organization** - Dot-separated module IDs organize related commands
4. **Tab completion** - Module IDs provide natural completion boundaries

## Best Practices

- **Local projects**: Keep command names short and focused (no prefixes).
- **Modules**: Use RDNS module IDs like `com.company.devtools`.
- **Avoid generic module IDs**: Prefer `com.company.tools` over `tools`.

## Next Steps

- [Implementations](./implementations) - Learn about platform-specific command implementations
- [Runtime Modes](../runtime-modes/overview) - Understand native, virtual, and container execution
