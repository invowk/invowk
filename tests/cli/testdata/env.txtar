# Test: Environment configuration (10-env.tape equivalent)
# Tests the env block feature for environment configuration

# Test 1: env files basic - load environment from .env file
exec invowk cmd 'env files basic'
stdout 'Basic env\.files Demo'
stdout 'Variables loaded from examples/\.env:'
stdout 'APP_NAME.*invowk-demo'
stdout 'APP_VERSION.*1\.0\.0'
stdout 'APP_ENV.*development'
! stderr .

# Test 2: env vars override - inline vars override file values
exec invowk cmd 'env vars override'
stdout 'env\.files \+ env\.vars Demo'
stdout 'From env\.files'
stdout 'Overridden by env\.vars:'
stdout 'APP_ENV.*production'
stdout 'LOG_LEVEL.*warn'
stdout 'Precedence: env\.files < env\.vars'
! stderr .
