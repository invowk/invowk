# Test: Filepath dependency checks (04-deps-files.tape equivalent)
# Tests the filepath dependency checking feature

# Run against project's invkfile.cue
cd $PROJECT_ROOT

# Test 1: deps file single - requires README.md to exist
exec invowk cmd 'deps file single'
stdout 'README\.md exists!'
! stderr .

# Test 2: deps file alternatives - requires any README variant
exec invowk cmd 'deps file alternatives'
stdout 'A README file exists'
! stderr .

# Test 3: deps file permissions - requires specific file permissions
exec invowk cmd 'deps file permissions'
stdout 'Permission checks passed!'
stdout 'Current directory is writable'
stdout 'README\.md is readable'
! stderr .
