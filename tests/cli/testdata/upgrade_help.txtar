# Test: upgrade command help text and argument validation
# Verifies the upgrade command's help output and basic arg handling.
# Network-dependent scenarios (actual upgrade, --check) are tested via
# unit tests in cmd/invowk/upgrade_test.go with httptest mock servers.

# Test 1: --help displays expected usage information
exec invowk upgrade --help
stdout 'Update invowk to the latest stable release or a specific version'
stdout 'invowk upgrade \[version\]'
stdout 'check'
stdout 'yes'
stdout 'Upgrade to latest stable'
stdout 'Check for updates without installing'
! stderr .

# Test 2: too many positional arguments
! exec invowk upgrade v1.0.0 v2.0.0
stderr '(?i)accepts at most 1 arg'
