# Includes Order Flowchart
#
# Shows how configured includes are processed in order,
# with earlier entries having higher priority.
#
# Source: docs/architecture/flowchart-discovery.md

vars: {
  d2-config: {
    layout-engine: tala
  }
}

direction: right

# ==============================================================================
# Includes Order
# ==============================================================================

paths: includes order matters {
  style: {
    stroke: "#1168BD"
    stroke-dash: 3
    fill: transparent
  }

  P1: /opt/company-modules {
    style.fill: "#C8E6C9"
  }

  P2: /home/shared {
    style.fill: "#BBDEFB"
  }

  P3: ...more paths {
    style.fill: "#FFE4B5"
  }

  P1 -> P2
  P2 -> P3
}

# ==============================================================================
# Priority Resolution
# ==============================================================================

Win: First match wins {
  style.fill: "#E8F5E9"
}

paths.P1 -> Win: Higher priority
paths.P3 -> Win: Lower priority
