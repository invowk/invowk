# Plan: Fix versions in custom-checks docs and clean up spec files

## Task #6 - Fix stale Go versions in custom-checks.mdx (EN + pt-BR)

**Finding**: After thorough inspection, both `custom-checks.mdx` files (EN and pt-BR) already use Go 1.26 references throughout. All Go version references found are correct:
- `go1.2[6-9]` regex patterns (line 85 in both)
- `go1.26` in grep checks (line 100, 318 in both)
- `go1.27` in alternatives (line 104 in both)

**Action**: No changes needed. Mark task #6 as completed.

## Task #7 - Fix UPX scope in rules and clean up spec status

### M7 - UPX scope in commands.md

**Finding**: Already fixed. Line 237 reads:
> "UPX-compressed for Linux; stripped (uncompressed) for macOS and Windows (amd64, arm64)."

**Action**: No changes needed for M7.

### L8 - Spec status stale

**Finding**: `spec.md` line 9 already has `Status: Implemented (US3 removed; US1, US2, US4 complete)`. All spec files (spec.md, plan.md, tasks.md, research.md, data-model.md) already have proper status banners noting US3 removal. The tasks in tasks.md are all marked `[X]` (completed).

**Action**: No changes needed for L8.

### L9 - Spec/impl mismatch: brews vs homebrew_casks

**Finding**: Several spec files reference the outdated `brews` GoReleaser config key:
1. `plan.md` line 65: `.goreleaser.yaml` comment says "uncomment brews section"
2. `plan.md` line 96: "Uncomment `brews:` section"
3. `plan.md` line 164: "Uncomment `brews` configuration"
4. `research.md` line 166: "Use GoReleaser's built-in `brews` configuration"
5. `research.md` line 173: "GoReleaser config: Uncomment existing `brews:` section"
6. `research.md` line 177: "Formula/" directory in tap structure (actual uses "Casks/")

Additionally, the tasks.md T015 already correctly references `Casks/` directory and T016 already correctly mentions `homebrew_casks:` (migrated from `brews:`). So tasks.md is accurate but plan.md and research.md have stale references.

Also, regarding US3 removal clarity: The spec.md US3 section body is still fully written out (lines 60-78) without any inline marker that it was removed/deferred. While the header banner mentions it, adding inline clarity would help.

**Planned edits:**

1. **`specs/009-install-and-upgrade/plan.md`**:
   - Line 65: `# .goreleaser.yaml  ... uncomment brews section` → `# .goreleaser.yaml  ... configure homebrew_casks section`
   - Line 96: `# Uncomment brews: section` → `# Configure homebrew_casks: section`
   - Line 164: Phase 5 step 3: `Uncomment brews: section` → `Configure homebrew_casks: section`

2. **`specs/009-install-and-upgrade/research.md`**:
   - Line 166-167: Update `brews` → `homebrew_casks` reference
   - Line 173: Update `brews:` → `homebrew_casks:` reference
   - Line 177-180: Update `Formula/` → `Casks/` in tap directory structure, and `invowk.rb` → `invowk.rb` (cask file generated by GoReleaser)

3. **`specs/009-install-and-upgrade/spec.md`**:
   - Add `> **Removed/Deferred**` marker at start of US3 section (line 60) to make the removal clearly visible inline, not just in the header banner.

## Summary

- Task #6: No changes needed (already correct)
- Task #7:
  - M7: No changes needed (already fixed)
  - L8: No changes needed (already has correct status)
  - L9: 3 files need edits (plan.md, research.md, spec.md) to fix stale `brews`→`homebrew_casks` references and add inline US3 removal marker
